{"ast":null,"code":"function getSession() {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n  return {\n    token: token,\n    id: cbid\n  };\n}\nexport async function getUser() {\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const response = await fetch(`http://localhost:8000/600/users/${cbid}`, requestOptions);\n  const data = await response.json();\n  return data;\n}\nexport async function getUserOrders() {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n  const response = await fetch(`http://localhost:8000/660/orders?user.id=${cbid}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  return data;\n}\nexport async function createOrder(cartList, total, user) {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n  const order = {\n    cartList: cartList,\n    amount_paid: total,\n    quantity: cartList.length,\n    user: {\n      name: user.name,\n      email: user.email,\n      id: user.id\n    }\n  };\n  const response = await fetch(\"http://localhost:8000/660/orders\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(order)\n  });\n  const data = await response.json();\n  return data;\n}","map":{"version":3,"names":["getSession","token","JSON","parse","sessionStorage","getItem","cbid","id","getUser","requestOptions","method","headers","Authorization","response","fetch","data","json","getUserOrders","createOrder","cartList","total","user","order","amount_paid","quantity","length","name","email","body","stringify"],"sources":["/home/sourov/MyProjectsGit/react_all_projects/code_book/src/services/DataService.js"],"sourcesContent":["function getSession() {\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\n    const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n\n    return {\n        token: token,\n        id: cbid\n    };\n}\n\n\nexport async function getUser() {\n\n    const requestOptions = {\n        method: \"GET\",\n        headers: {\"Content-Type\": \"application/json\", Authorization: `Bearer ${token}`}\n    }\n    const response = await fetch(`http://localhost:8000/600/users/${cbid}`, requestOptions);\n    const data = await response.json();\n    return data;\n}\n\nexport async function getUserOrders() {\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\n    const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n    const response = await fetch(`http://localhost:8000/660/orders?user.id=${cbid}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    });\n    const data = await response.json();\n    return data;\n}\n\nexport async function createOrder(cartList, total, user) {\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\n    const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n    const order = {\n        cartList: cartList,\n        amount_paid: total,\n        quantity: cartList.length,\n        user: {\n            name: user.name,\n            email: user.email,\n            id: user.id\n        }\n    }\n\n    const response = await fetch(\"http://localhost:8000/660/orders\", {\n        method: \"POST\",\n        headers: {\"Content-Type\": \"application/json\", Authorization: `Bearer ${token}`},\n        body: JSON.stringify(order)\n    });\n    const data = await response.json();\n    return data;\n}"],"mappings":"AAAA,SAASA,UAAUA,CAAA,EAAG;EAClB,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACzD,MAAMC,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAEvD,OAAO;IACHJ,KAAK,EAAEA,KAAK;IACZM,EAAE,EAAED;EACR,CAAC;AACL;AAGA,OAAO,eAAeE,OAAOA,CAAA,EAAG;EAE5B,MAAMC,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAC,cAAc,EAAE,kBAAkB;MAAEC,aAAa,EAAG,UAASX,KAAM;IAAC;EAClF,CAAC;EACD,MAAMY,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCR,IAAK,EAAC,EAAEG,cAAc,CAAC;EACvF,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf;AAEA,OAAO,eAAeE,aAAaA,CAAA,EAAG;EAClC,MAAMhB,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACzD,MAAMC,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACvD,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAAE,4CAA2CR,IAAK,EAAC,EAAE;IAC7EI,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAG,UAASX,KAAM;IACnC;EACJ,CAAC,CAAC;EACF,MAAMc,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf;AAEA,OAAO,eAAeG,WAAWA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,IAAI,EAAE;EACrD,MAAMpB,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACzD,MAAMC,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACvD,MAAMiB,KAAK,GAAG;IACVH,QAAQ,EAAEA,QAAQ;IAClBI,WAAW,EAAEH,KAAK;IAClBI,QAAQ,EAAEL,QAAQ,CAACM,MAAM;IACzBJ,IAAI,EAAE;MACFK,IAAI,EAAEL,IAAI,CAACK,IAAI;MACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBpB,EAAE,EAAEc,IAAI,CAACd;IACb;EACJ,CAAC;EAED,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;IAC7DJ,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAC,cAAc,EAAE,kBAAkB;MAAEC,aAAa,EAAG,UAASX,KAAM;IAAC,CAAC;IAC/E2B,IAAI,EAAE1B,IAAI,CAAC2B,SAAS,CAACP,KAAK;EAC9B,CAAC,CAAC;EACF,MAAMP,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}