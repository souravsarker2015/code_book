{"ast":null,"code":"function getSession() {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n  return {\n    token: token,\n    id: cbid\n  };\n}\nexport async function getUser() {\n  const browserData = getSession();\n  const requestOptions = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${browserData.token}`\n    }\n  };\n  const response = await fetch(`http://localhost:8000/600/users/${browserData.id}`, requestOptions);\n  const data = await response.json();\n  return data;\n}\nexport async function getUserOrders() {\n  const browserData = getSession();\n  const response = await fetch(`http://localhost:8000/660/orders?user.id=${browserData.id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${browserData.token}`\n    }\n  });\n  const data = await response.json();\n  return data;\n}\nexport async function createOrder(cartList, total, user) {\n  const browserData = getSession();\n  const order = {\n    cartList: cartList,\n    amount_paid: total,\n    quantity: cartList.length,\n    user: {\n      name: user.name,\n      email: user.email,\n      id: user.id\n    }\n  };\n  const response = await fetch(\"http://localhost:8000/660/orders\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${browserData.token}`\n    },\n    body: JSON.stringify(order)\n  });\n  const data = await response.json();\n  return data;\n}","map":{"version":3,"names":["getSession","token","JSON","parse","sessionStorage","getItem","cbid","id","getUser","browserData","requestOptions","method","headers","Authorization","response","fetch","data","json","getUserOrders","createOrder","cartList","total","user","order","amount_paid","quantity","length","name","email","body","stringify"],"sources":["/home/sourov/MyProjectsGit/react_all_projects/code_book/src/services/DataService.js"],"sourcesContent":["function getSession() {\n    const token = JSON.parse(sessionStorage.getItem(\"token\"));\n    const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n\n    return {\n        token: token,\n        id: cbid\n    };\n}\n\n\nexport async function getUser() {\n    const browserData = getSession()\n    const requestOptions = {\n        method: \"GET\",\n        headers: {\"Content-Type\": \"application/json\", Authorization: `Bearer ${browserData.token}`}\n    }\n    const response = await fetch(`http://localhost:8000/600/users/${browserData.id}`, requestOptions);\n    const data = await response.json();\n    return data;\n}\n\nexport async function getUserOrders() {\n    const browserData = getSession()\n    const response = await fetch(`http://localhost:8000/660/orders?user.id=${browserData.id}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${browserData.token}`\n        }\n    });\n    const data = await response.json();\n    return data;\n}\n\nexport async function createOrder(cartList, total, user) {\n    const browserData = getSession()\n    const order = {\n        cartList: cartList,\n        amount_paid: total,\n        quantity: cartList.length,\n        user: {\n            name: user.name,\n            email: user.email,\n            id: user.id\n        }\n    }\n\n    const response = await fetch(\"http://localhost:8000/660/orders\", {\n        method: \"POST\",\n        headers: {\"Content-Type\": \"application/json\", Authorization: `Bearer ${browserData.token}`},\n        body: JSON.stringify(order)\n    });\n    const data = await response.json();\n    return data;\n}"],"mappings":"AAAA,SAASA,UAAUA,CAAA,EAAG;EAClB,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACzD,MAAMC,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAEvD,OAAO;IACHJ,KAAK,EAAEA,KAAK;IACZM,EAAE,EAAED;EACR,CAAC;AACL;AAGA,OAAO,eAAeE,OAAOA,CAAA,EAAG;EAC5B,MAAMC,WAAW,GAAGT,UAAU,EAAE;EAChC,MAAMU,cAAc,GAAG;IACnBC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MAAC,cAAc,EAAE,kBAAkB;MAAEC,aAAa,EAAG,UAASJ,WAAW,CAACR,KAAM;IAAC;EAC9F,CAAC;EACD,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCN,WAAW,CAACF,EAAG,EAAC,EAAEG,cAAc,CAAC;EACjG,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf;AAEA,OAAO,eAAeE,aAAaA,CAAA,EAAG;EAClC,MAAMT,WAAW,GAAGT,UAAU,EAAE;EAChC,MAAMc,QAAQ,GAAG,MAAMC,KAAK,CAAE,4CAA2CN,WAAW,CAACF,EAAG,EAAC,EAAE;IACvFI,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAG,UAASJ,WAAW,CAACR,KAAM;IAC/C;EACJ,CAAC,CAAC;EACF,MAAMe,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf;AAEA,OAAO,eAAeG,WAAWA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,IAAI,EAAE;EACrD,MAAMb,WAAW,GAAGT,UAAU,EAAE;EAChC,MAAMuB,KAAK,GAAG;IACVH,QAAQ,EAAEA,QAAQ;IAClBI,WAAW,EAAEH,KAAK;IAClBI,QAAQ,EAAEL,QAAQ,CAACM,MAAM;IACzBJ,IAAI,EAAE;MACFK,IAAI,EAAEL,IAAI,CAACK,IAAI;MACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBrB,EAAE,EAAEe,IAAI,CAACf;IACb;EACJ,CAAC;EAED,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;IAC7DJ,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAC,cAAc,EAAE,kBAAkB;MAAEC,aAAa,EAAG,UAASJ,WAAW,CAACR,KAAM;IAAC,CAAC;IAC3F4B,IAAI,EAAE3B,IAAI,CAAC4B,SAAS,CAACP,KAAK;EAC9B,CAAC,CAAC;EACF,MAAMP,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAOD,IAAI;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}